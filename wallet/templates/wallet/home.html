{% load staticfiles %}
<html lang="en"><head>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">

  <title>Geld - Sign Up</title>

  <!-- Custom fonts for this template-->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.css" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet">

  <!-- Custom styles for this template-->
  <link href="{% static 'css/sb-admin-2.min.css' %}" rel="stylesheet">
    <script src="{% static 'js/index.js'%}"></script>


</head>

<body class="bg-info">
  <div class="container">
<div class="navbar navbar-expand navbar-dark bg-secondary shadow mt-4  rounded">
                <a class="text-secondary  navbar-brand" href="{%url 'dashboard'%}"><h4 class="text-white">GELD<span class="text-warning">BAUM</span></h4></a>
                <a class="card-link text-success btn btn-sm btn-outline-light ml-auto" href="{%url 'about'%}"><h5 class="text-success">About Us</h5></a>
            </div>
    <div class="card o-hidden border-0 shadow-lg my-5">
      <div class="card-body p-0">
        <!-- Nested Row within Card Body -->

        <div class="row">
         <div class="col-lg-6 d-none d-lg-block">
              <h1 class="text-center display-4 p-1" style="font-size: xx-large;">Welcome To GeldBaum</h1>
                   <img class="img-fluid p-1 mb-0" src="{% static 'img/background.jpg' %}">
                </div>
                <div class="col-lg-6">
            <div class="p-5">
                {% if message %}
                    <div id="alert_bar" class="m-3 alert alert-{{ status }} text-center">{{ message }}</div>
                {% endif %}
                     <div id="alert_signup" class="m-3 alert alert-success text-center d-none"></div>
              <div class="text-center">
                <h1 class="h4 text-gray-900 mb-4">Sign Up With Us</h1>
              </div>
              <form class="user">
                  {%csrf_token%}
    <div class="form-group">
                  <input type="text" class="form-control" {% if username%}value="{{ username }}"{%endif%} required name="username" id="username" placeholder="Username" >
                </div>
                  <div class="form-group">
                  <input type="email" class="form-control" {% if email%}value="{{ email }}"{%endif%} required name="email" id="email" placeholder="Email Address">
                </div>
                <div class="form-group row">
                  <div class="col-sm-6 mb-3 mb-sm-0">
                    <input type="password" required minlength="8" class="form-control" name="password1" id="password1" placeholder="Password">
                  </div>
                  <div class="col-sm-6">
                    <input type="password"  required  class="form-control " name="password2" id="password2" placeholder="Confirm Password" >
                  </div>
                </div>
                  <a id="signup_btn" onclick="signup()" class="btn btn-warning btn-block">Sign Up</a>
                <hr>
              </form>
              <hr>

              <div class="text-center">
                <a class="small" href="{% url 'login'%}">Already have an account? Sign In</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

  </div>
  <script type="text/javascript">

const signup=()=>{
    const alert = document.querySelector('#alert_signup');
    const username = document.querySelector('#username');
    const email = document.querySelector('#email');
    const pass1 = document.querySelector('#password1');
    const pass2 = document.querySelector('#password2');
    alert.className = 'd-none';
    const data = {"username": username.value, "email": email.value, "password1": pass1.value, "password2": pass2.value};
    $.ajax({
            type: 'GET',
            url: 'http://127.0.0.1:8000/',
            dataType: 'json',
            data : data,
            success: function (data) {
                alert.className = 'm-3 alert alert-' + data.status + ' text-center';
                alert.innerText = data.message;
                if (data.status === 'info') {
                    pass1.value = pass2.value = email.value = username.value='';
                }
            }

            });
};

  </script>

  <!-- Bootstrap core JavaScript-->
  <script src="{% static 'vendor/jquery/jquery.min.js'%}"></script>
  <script src="{% static 'vendor/bootstrap/js/bootstrap.bundle.min.js'%}"></script>
  <script src="{% static 'js/index.js'%}"></script>

  <!-- Core plugin JavaScript-->
  <script src="{% static 'vendor/jquery-easing/jquery.easing.min.js'%}"></script>

  <!-- Custom scripts for all pages-->

  <script src="{% static 'js/sb-admin-2.min.js'%}"></script>






</body></html>